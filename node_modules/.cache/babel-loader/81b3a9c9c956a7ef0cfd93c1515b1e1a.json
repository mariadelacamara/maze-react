{"ast":null,"code":"import Immutable from 'seamless-immutable';\nimport { actions } from './actions';\nimport { matrix } from '../../constants';\nconst defaultState = {\n  moves: 0,\n  board: matrix,\n  indexSquare: matrix[0].findIndex(elem => elem.active),\n  indexRow: 0,\n  finalized: false\n};\n\nconst resetPosition = (board, indexSquare, indexRow) => {\n  const boardUpdated = [...board.slice(0, indexRow), [...board[indexRow].slice(0, indexSquare), {\n    active: false,\n    enabled: true\n  }, ...board[indexRow].slice(indexSquare + 1)], ...board.slice(indexRow + 1)];\n  return boardUpdated;\n};\n\nexport function reducer(state = Immutable(defaultState), action) {\n  switch (action.type) {\n    case actions.MOVE_DOWN:\n      {\n        const indexSquare = state.indexSquare,\n              indexRow = state.indexRow,\n              board = state.board;\n        const resetBoard = resetPosition(board, indexSquare, indexRow);\n        const boardUpdated = [...resetBoard.slice(0, indexRow + 1), [...resetBoard[indexRow + 1].slice(0, indexSquare), resetBoard[indexRow + 1][indexSquare].merge({\n          active: true\n        }), ...resetBoard[indexRow + 1].slice(indexSquare + 1)], ...resetBoard.slice(indexRow + 2)];\n        return state.merge({\n          moves: state.moves + 1,\n          board: boardUpdated,\n          indexRow: indexRow + 1,\n          indexSquare: indexSquare,\n          position: 'DOWN',\n          finalized: board[indexRow][indexSquare + 2] === undefined\n        });\n      }\n\n    case actions.MOVE_RIGHT:\n      {\n        const indexSquare = state.indexSquare,\n              indexRow = state.indexRow,\n              board = state.board;\n        const resetBoard = resetPosition(board, indexSquare, indexRow);\n        const boardUpdated = [...resetBoard.slice(0, indexRow), [...resetBoard[indexRow].slice(0, indexSquare + 1), resetBoard[indexRow][indexSquare + 1].merge({\n          active: true\n        }), ...resetBoard[indexRow].slice(indexSquare + 2)], ...resetBoard.slice(indexRow + 1)];\n        return state.merge({\n          moves: state.moves + 1,\n          board: boardUpdated,\n          indexSquare: indexSquare + 1,\n          indexRow: indexRow,\n          position: 'RIGHT',\n          finalized: board[indexRow][indexSquare + 2] === undefined\n        });\n      }\n\n    case actions.MOVE_UP:\n      {\n        const indexSquare = state.indexSquare,\n              indexRow = state.indexRow,\n              board = state.board;\n        const resetBoard = resetPosition(board, indexSquare, indexRow);\n        const boardUpdated = [...resetBoard.slice(0, indexRow - 1), [...resetBoard[indexRow - 1].slice(0, indexSquare), resetBoard[indexRow - 1][indexSquare].merge({\n          active: true\n        }), ...resetBoard[indexRow - 1].slice(indexSquare + 1)], ...resetBoard.slice(indexRow)];\n        return state.merge({\n          moves: state.moves + 1,\n          board: boardUpdated,\n          indexRow: state.indexRow - 1,\n          indexSquare: indexSquare,\n          position: 'UP',\n          finalized: board[indexRow][indexSquare + 1] === undefined\n        });\n      }\n\n    case 'MOVE_LEFT':\n      {\n        const indexSquare = state.indexSquare,\n              indexRow = state.indexRow,\n              board = state.board;\n        const resetBoard = resetPosition(board, indexSquare, indexRow);\n        const boardUpdated = [...resetBoard.slice(0, indexRow), [...resetBoard[indexRow].slice(0, indexSquare - 1), resetBoard[indexRow][indexSquare - 1].merge({\n          active: true\n        }), ...resetBoard[indexRow].slice(indexSquare)], ...resetBoard.slice(indexRow + 1)];\n        return state.merge({\n          moves: state.moves + 1,\n          board: boardUpdated,\n          indexRow: indexRow,\n          indexSquare: indexSquare - 1,\n          position: 'LEFT',\n          finalized: board[indexRow][indexSquare + 2] === undefined\n        });\n      }\n\n    case 'RESET':\n      {\n        return state.merge({\n          moves: 0,\n          indexSquare: matrix[0].findIndex(elem => elem.active),\n          indexRow: 0,\n          board: matrix,\n          finalized: false\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}","map":{"version":3,"sources":["/home/nicolas/Documents/Proyects/maze-react/src/redux/Board/reducer.js"],"names":["Immutable","actions","matrix","defaultState","moves","board","indexSquare","findIndex","elem","active","indexRow","finalized","resetPosition","boardUpdated","slice","enabled","reducer","state","action","type","MOVE_DOWN","resetBoard","merge","position","undefined","MOVE_RIGHT","MOVE_UP"],"mappings":"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","sourcesContent":["import Immutable from 'seamless-immutable';\n\nimport { actions } from './actions';\nimport { matrix } from '../../constants';\n\nconst defaultState = {\n  moves: 0,\n  board: matrix,\n  indexSquare: matrix[0].findIndex(elem => elem.active),\n  indexRow: 0,\n  finalized: false\n};\n\nconst resetPosition = ( board, indexSquare, indexRow ) => {\n  const boardUpdated = [\n    ...board.slice(0, indexRow),\n    [\n      ...board[indexRow].slice(0, indexSquare),\n      {\n        active: false,\n        enabled: true\n      },\n      ...board[indexRow].slice(indexSquare + 1 ),\n    ],\n    ...board.slice(indexRow + 1)\n  ];\n  return boardUpdated;\n}\n\nexport function reducer(state = Immutable(defaultState), action) {\n  switch (action.type) {\n    case actions.MOVE_DOWN: {\n      const { indexSquare, indexRow, board } = state;\n      const resetBoard = resetPosition(board, indexSquare, indexRow);\n      const boardUpdated = [\n        ...resetBoard.slice(0, indexRow + 1),\n        [\n          ...resetBoard[indexRow + 1].slice(0, indexSquare),\n          resetBoard[indexRow + 1][indexSquare].merge({active: true}),\n          ...resetBoard[indexRow + 1].slice(indexSquare + 1 ),\n        ],\n        ...resetBoard.slice(indexRow + 2)\n      ];\n      return state.merge({\n        moves: state.moves + 1,\n        board: boardUpdated,\n        indexRow: indexRow + 1,\n        indexSquare: indexSquare,\n        position: 'DOWN',\n        finalized: board[indexRow][indexSquare + 2] === undefined\n      });\n    }\n    case actions.MOVE_RIGHT: {\n      const { indexSquare, indexRow, board } = state;\n      const resetBoard = resetPosition(board, indexSquare, indexRow);\n      const boardUpdated = [\n        ...resetBoard.slice(0, indexRow),\n        [\n          ...resetBoard[indexRow].slice(0, indexSquare + 1),\n          resetBoard[indexRow][indexSquare + 1].merge({active: true}),\n          ...resetBoard[indexRow].slice(indexSquare + 2),\n        ],\n        ...resetBoard.slice(indexRow + 1)\n      ];\n      return state.merge({\n        moves: state.moves + 1,\n        board: boardUpdated,\n        indexSquare: indexSquare + 1,\n        indexRow: indexRow,\n        position: 'RIGHT',\n        finalized: board[indexRow][indexSquare + 2] === undefined\n      });\n    }\n    case actions.MOVE_UP: {\n      const { indexSquare, indexRow, board } = state;\n      const resetBoard = resetPosition(board, indexSquare, indexRow);\n      const boardUpdated = [\n        ...resetBoard.slice(0, indexRow - 1),\n        [\n          ...resetBoard[indexRow - 1].slice(0, indexSquare),\n          resetBoard[indexRow - 1][indexSquare].merge({active: true}),\n\n          ...resetBoard[indexRow - 1].slice(indexSquare + 1),\n        ],\n        ...resetBoard.slice(indexRow)\n      ];\n      return state.merge({\n        moves: state.moves + 1,\n        board: boardUpdated,\n        indexRow: state.indexRow - 1,\n        indexSquare: indexSquare,\n        position: 'UP',\n        finalized: board[indexRow][indexSquare + 1] === undefined\n      });\n    }\n    case 'MOVE_LEFT': {\n      const { indexSquare, indexRow, board } = state;\n      const resetBoard = resetPosition(board, indexSquare, indexRow);\n      const boardUpdated = [\n        ...resetBoard.slice(0, indexRow),\n        [\n          ...resetBoard[indexRow].slice(0, indexSquare - 1),\n          resetBoard[indexRow][indexSquare - 1].merge({active: true}),\n\n          ...resetBoard[indexRow].slice(indexSquare),\n        ],\n        ...resetBoard.slice(indexRow + 1)\n      ];\n      return state.merge({\n        moves: state.moves + 1,\n        board: boardUpdated,\n        indexRow: indexRow,\n        indexSquare: indexSquare - 1,\n        position: 'LEFT',\n        finalized: board[indexRow][indexSquare + 2] === undefined\n      });\n    }\n    case 'RESET': {\n      return state.merge({\n        moves: 0,\n        indexSquare: matrix[0].findIndex(elem => elem.active),\n        indexRow: 0,\n        board: matrix,\n        finalized: false\n      })\n    }\n    default: {\n      return state; \n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}