{"ast":null,"code":"import _slicedToArray from \"/home/nicolas/Documents/Proyects/maze-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/nicolas/Documents/Proyects/maze-react/src/components/Board/index.js\";\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport ArrowKeysReact from 'arrow-keys-react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useAlert } from \"react-alert\";\nimport { actions } from '../../redux/Board/actions';\nimport Square from './components/Square';\nimport { actionCreators } from '../../redux/Board/actions';\nimport { RIGHT, LEFT, UP, DOWN } from './constants';\nimport './Board.css';\n\nfunction Board() {\n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        start = _useState2[0],\n        setStart = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        disableButtons = _useState4[0],\n        setDisableButtons = _useState4[1];\n\n  const board = useSelector(state => state.board.board);\n  const finalized = useSelector(state => state.board.finalized);\n  const indexRow = useSelector(state => state.board.indexRow);\n  const indexSquare = useSelector(state => state.board.indexSquare);\n  const position = useSelector(state => state.board.position);\n  useEffect(() => {\n    if (start) {\n      setTimeout(handleOnClick, 200);\n    }\n  });\n  useEffect(() => {\n    ArrowKeysReact.config({\n      left: () => {\n        board[indexRow][indexSquare - 1].enabled && dispatch(actionCreators.move(LEFT));\n      },\n      right: () => {\n        if (!finalized) {\n          board[indexRow][indexSquare + 1].enabled && dispatch(actionCreators.move(RIGHT));\n        } else {\n          alert.success(\"Muy bien gracias a la ayuda de las agilas Gandalf El Blanco puedo escapar !\");\n          dispatch({\n            type: actions.RESET\n          });\n        }\n      },\n      up: () => {\n        board[indexRow - 1][indexSquare].enabled && dispatch(actionCreators.move('UP'));\n      },\n      down: () => {\n        board[indexRow + 1][indexSquare].enabled && dispatch(actionCreators.move('DOWN'));\n      }\n    });\n  });\n\n  const handleOnClick = () => {\n    if (!finalized) {\n      if (!start) {\n        setStart(true);\n      }\n\n      setDisableButtons(true);\n\n      if (position === \"RIGHT\" && board[indexRow][indexSquare + 1].enabled) {\n        dispatch(actionCreators.move(RIGHT));\n        return;\n      }\n\n      if (board[indexRow + 1][indexSquare].enabled && position !== UP) {\n        dispatch(actionCreators.move('DOWN'));\n        return;\n      } else if (board[indexRow][indexSquare - 1].enabled && (position !== \"RIGHT\" || position === \"LEFT\")) {\n        dispatch(actionCreators.move(LEFT));\n        return;\n      } else if (board[indexRow][indexSquare + 1].enabled) {\n        dispatch(actionCreators.move(RIGHT));\n        return;\n      }\n\n      if (board[indexRow - 1] && board[indexRow - 1][indexSquare].enabled) {\n        dispatch(actionCreators.move('UP'));\n        return;\n      }\n    } else {\n      setStart(false);\n      dispatch({\n        type: actions.RESET\n      });\n      setDisableButtons(false);\n      alert.success(\"Muy bien gracias a la ayuda de las agilas Gandalf El Blanco puedo escapar !\");\n    }\n  };\n\n  const handleOnReset = () => {\n    dispatch({\n      type: actions.RESET\n    });\n    setStart(false);\n  };\n\n  return React.createElement(\"div\", Object.assign({\n    className: \"board\"\n  }, ArrowKeysReact.events, {\n    tabIndex: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"help\",\n    onClick: handleOnClick,\n    disabled: disableButtons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"P\\xEDdele ayuda a la aguilas\"), React.createElement(\"button\", {\n    className: \"reset\",\n    onClick: handleOnReset,\n    disabled: disableButtons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Resetear\")), board && board.map((row, i) => React.createElement(\"div\", {\n    key: i,\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, row && row.map((square, i) => React.createElement(Square, {\n    key: i,\n    enabled: square.enabled,\n    active: square.active,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  })))));\n}\n\nexport default Board;","map":{"version":3,"sources":["/home/nicolas/Documents/Proyects/maze-react/src/components/Board/index.js"],"names":["React","useEffect","useState","ArrowKeysReact","useDispatch","useSelector","useAlert","actions","Square","actionCreators","RIGHT","LEFT","UP","DOWN","Board","dispatch","alert","start","setStart","disableButtons","setDisableButtons","board","state","finalized","indexRow","indexSquare","position","setTimeout","handleOnClick","config","left","enabled","move","right","success","type","RESET","up","down","handleOnReset","events","map","row","i","square","active"],"mappings":"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","sourcesContent":["  import React from 'react';\n  import { useEffect, useState } from 'react';\n  import ArrowKeysReact from 'arrow-keys-react';\n  import { useDispatch, useSelector } from 'react-redux'\n  import { useAlert } from \"react-alert\";\n\n  import { actions } from '../../redux/Board/actions';\n  import Square from './components/Square';\n  import { actionCreators } from '../../redux/Board/actions';\n  import { RIGHT, LEFT, UP, DOWN } from './constants';\n  import './Board.css';\n\n  function Board() {\n    const dispatch = useDispatch();\n    const alert = useAlert();\n    const [ start, setStart ] = useState(false);\n    const [ disableButtons, setDisableButtons ] = useState(false);\n    const board = useSelector(state => state.board.board);\n    const finalized = useSelector(state => state.board.finalized);\n    const indexRow = useSelector(state => state.board.indexRow);\n    const indexSquare = useSelector(state => state.board.indexSquare);\n    const position = useSelector(state => state.board.position);\n\n    useEffect(() => {\n      if (start) {\n        setTimeout(handleOnClick, 200);\n      }\n    });\n\n    useEffect(() => {\n      ArrowKeysReact.config({\n        left: () => {\n          board[indexRow][indexSquare - 1].enabled && dispatch(actionCreators.move(LEFT));\n        },\n        right: () => {\n          if(!finalized) {\n            board[indexRow][indexSquare + 1].enabled && dispatch(actionCreators.move(RIGHT))\n          } else {\n            alert.success(\"Muy bien gracias a la ayuda de las agilas Gandalf El Blanco puedo escapar !\");\n            dispatch({ type: actions.RESET });\n          }\n        },\n        up: () => {\n          board[indexRow - 1][indexSquare].enabled && dispatch(actionCreators.move('UP'));\n        },\n        down: () => {\n          board[indexRow + 1][indexSquare].enabled && dispatch(actionCreators.move('DOWN'));\n        }\n      });\n    });\n\n    const handleOnClick = () => {\n      if(!finalized) {\n        if(!start) { setStart(true) }\n        setDisableButtons(true);\n        if(position === \"RIGHT\" && board[indexRow][indexSquare + 1].enabled ) {\n          dispatch(actionCreators.move(RIGHT));\n          return;\n        }\n        if((board[indexRow + 1][indexSquare].enabled) && (position !== UP) ) {\n          dispatch(actionCreators.move('DOWN'));\n          return;\n        } else if (board[indexRow][indexSquare - 1].enabled && (position !== \"RIGHT\" || position === \"LEFT\")) {\n          dispatch(actionCreators.move(LEFT));\n          return;\n        } else if(board[indexRow][indexSquare + 1].enabled ) {\n          dispatch(actionCreators.move(RIGHT));\n          return;\n        }\n        if(board[indexRow - 1] && board[indexRow - 1][indexSquare].enabled){\n          dispatch(actionCreators.move('UP'));\n          return;\n        }\n      } else {\n        setStart(false);\n        dispatch({ type: actions.RESET });\n        setDisableButtons(false);\n        alert.success(\"Muy bien gracias a la ayuda de las agilas Gandalf El Blanco puedo escapar !\");\n      }\n    };\n\n    const handleOnReset = () => {\n      dispatch({ type: actions.RESET });\n      setStart(false);\n    }\n\n    return (\n      <div className=\"board\" {...ArrowKeysReact.events} tabIndex=\"1\">\n        <div className=\"container-button\">\n          <button className=\"help\" onClick={handleOnClick} disabled={disableButtons}>Pídele ayuda a la aguilas</button>\n          <button className=\"reset\" onClick={handleOnReset} disabled={disableButtons}>Resetear</button>\n        </div>\n        {board && board.map((row, i) => (\n          <div key={i} className=\"row\">\n            {row && row.map((square, i) =>\n              <Square key={i} enabled={square.enabled} active={square.active} />\n            )}\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  export default Board;\n"]},"metadata":{},"sourceType":"module"}