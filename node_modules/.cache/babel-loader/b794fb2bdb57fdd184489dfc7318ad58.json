{"ast":null,"code":"import _slicedToArray from \"/home/nicolas/Documents/Proyects/maze-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/nicolas/Documents/Proyects/maze-react/src/components/Board/index.js\";\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport ArrowKeysReact from 'arrow-keys-react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useAlert } from \"react-alert\";\nimport Grid from './components/Grid';\nimport { actionCreators } from '../../redux/Board/actions';\nimport './Board.css';\n\nfunction Board() {\n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        start = _useState2[0],\n        setStart = _useState2[1];\n\n  const board = useSelector(state => state.board.board);\n  const finalized = useSelector(state => state.board.finalized);\n  const indexRow = useSelector(state => state.board.indexRow);\n  const indexGrid = useSelector(state => state.board.indexGrid);\n  const position = useSelector(state => state.board.position);\n  useEffect(() => {\n    if (start) {\n      setTimeout(handleOnClick, 200);\n    }\n  });\n  useEffect(() => {\n    if (finalized) {\n      alert.success(\"Muy bien gracias a la ayuda de las agilas Gandalf El Blanco puedo escapar !\");\n    }\n  });\n  useEffect(() => {\n    ArrowKeysReact.config({\n      left: () => {\n        board[indexRow][indexGrid - 1].enabled && dispatch(actionCreators.move('LEFT'));\n      },\n      right: () => {\n        !finalized ? board[indexRow][indexGrid + 1].enabled && dispatch(actionCreators.move('RIGHT')) : alert.success(\"Muy bien gracias a la ayuda de las agilas Gandalf El Blanco puedo escapar !\");\n      },\n      up: () => {\n        board[indexRow - 1][indexGrid].enabled && dispatch(actionCreators.move('UP'));\n      },\n      down: () => {\n        board[indexRow + 1][indexGrid].enabled && dispatch(actionCreators.move('DOWN'));\n      }\n    });\n  });\n\n  const handleOnClick = () => {\n    if (!finalized) {\n      if (!start) {\n        setStart(true);\n      }\n\n      if (position === \"RIGHT\" && board[indexRow][indexGrid + 1].enabled) {\n        dispatch(actionCreators.move('RIGHT'));\n        return;\n      }\n\n      if ((board[indexRow + 1][indexGrid].enabled || indexRow === 0) && position !== \"UP\") {\n        dispatch(actionCreators.move('DOWN'));\n        return;\n      } else if (board[indexRow][indexGrid - 1].enabled && (position !== \"RIGHT\" || position === \"LEFT\")) {\n        dispatch(actionCreators.move('LEFT'));\n        return;\n      } else if (board[indexRow][indexGrid + 1].enabled) {\n        dispatch(actionCreators.move('RIGHT'));\n        return;\n      }\n\n      if (board[indexRow - 1] && board[indexRow - 1][indexGrid].enabled) {\n        dispatch(actionCreators.move('UP'));\n        return;\n      }\n    } else {\n      dispatch({\n        type: 'RESET'\n      });\n      setStart(false);\n    }\n  };\n\n  return React.createElement(\"div\", Object.assign({\n    className: \"board\"\n  }, ArrowKeysReact.events, {\n    tabIndex: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"help\",\n    onClick: handleOnClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Pidele ayuda a la aguilas\"), board && board.map((row, i) => React.createElement(\"div\", {\n    key: i,\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, row && row.map((grid, i) => React.createElement(Grid, {\n    key: i,\n    enabled: grid.enabled,\n    active: grid.active,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  })))));\n}\n\nexport default Board;","map":{"version":3,"sources":["/home/nicolas/Documents/Proyects/maze-react/src/components/Board/index.js"],"names":["React","useEffect","useState","ArrowKeysReact","useDispatch","useSelector","useAlert","Grid","actionCreators","Board","dispatch","alert","start","setStart","board","state","finalized","indexRow","indexGrid","position","setTimeout","handleOnClick","success","config","left","enabled","move","right","up","down","type","events","map","row","i","grid","active"],"mappings":"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","sourcesContent":["  import React from 'react';\n  import { useEffect, useState } from 'react';\n  import ArrowKeysReact from 'arrow-keys-react';\n  import { useDispatch, useSelector } from 'react-redux'\n  import { useAlert } from \"react-alert\";\n\n  import Grid from './components/Grid';\n  import { actionCreators } from '../../redux/Board/actions';\n  import './Board.css';\n\n  function Board() {\n    const dispatch = useDispatch();\n    const alert = useAlert();\n    const [ start, setStart ] = useState(false);\n    const board = useSelector(state => state.board.board);\n    const finalized = useSelector(state => state.board.finalized);\n    const indexRow = useSelector(state => state.board.indexRow);\n    const indexGrid = useSelector(state => state.board.indexGrid);\n    const position = useSelector(state => state.board.position);\n\n    useEffect(() => {\n      if (start) {\n        setTimeout(handleOnClick, 200);\n      }\n    });\n\n    useEffect(() => {\n      if (finalized) {\n        alert.success(\"Muy bien gracias a la ayuda de las agilas Gandalf El Blanco puedo escapar !\");\n      }\n    });\n\n    useEffect(() => {\n      ArrowKeysReact.config({\n        left: () => {\n          board[indexRow][indexGrid - 1].enabled && dispatch(actionCreators.move('LEFT'));\n        },\n        right: () => {\n          !finalized ? (\n            board[indexRow][indexGrid + 1].enabled && dispatch(actionCreators.move('RIGHT'))\n          ) : (\n            alert.success(\"Muy bien gracias a la ayuda de las agilas Gandalf El Blanco puedo escapar !\")\n          )\n        },\n        up: () => {\n          board[indexRow - 1][indexGrid].enabled && dispatch(actionCreators.move('UP'));\n        },\n        down: () => {\n          board[indexRow + 1][indexGrid].enabled && dispatch(actionCreators.move('DOWN'));\n        }\n      });\n    });\n\n    const handleOnClick = () => {\n      if(!finalized) {\n        if(!start) { setStart(true) }\n        if(position === \"RIGHT\" && board[indexRow][indexGrid + 1].enabled ) {\n          dispatch(actionCreators.move('RIGHT'));\n          return;\n        }\n        if((board[indexRow + 1][indexGrid].enabled || indexRow === 0) && (position !== \"UP\") ) {\n          dispatch(actionCreators.move('DOWN'));\n          return;\n        } else if (board[indexRow][indexGrid - 1].enabled && (position !== \"RIGHT\" || position === \"LEFT\")) {\n          dispatch(actionCreators.move('LEFT'));\n          return;\n        } else if(board[indexRow][indexGrid + 1].enabled ) {\n          dispatch(actionCreators.move('RIGHT'));\n          return;\n        }\n        if(board[indexRow - 1] && board[indexRow - 1][indexGrid].enabled){\n          dispatch(actionCreators.move('UP'));\n          return;\n        }\n      } else {\n        dispatch({ type: 'RESET' });\n        setStart(false);\n      }\n    };\n\n    return (\n      <div className=\"board\" {...ArrowKeysReact.events} tabIndex=\"1\">\n        <button className=\"help\" onClick={handleOnClick}>Pidele ayuda a la aguilas</button>\n        {board && board.map((row, i) => (\n          <div key={i} className=\"row\">\n            {row && row.map((grid, i) =>\n              <Grid key={i} enabled={grid.enabled} active={grid.active} />\n            )}\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  export default Board;\n"]},"metadata":{},"sourceType":"module"}