{"ast":null,"code":"import _slicedToArray from\"/Users/a/Documents/Proyects/maze-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useEffect,useState}from'react';import ArrowKeysReact from'arrow-keys-react';import{useDispatch,useSelector}from'react-redux';import{useAlert}from\"react-alert\";import{actions}from'../../redux/Board/actions';import Square from'./components/Square';import{actionCreators}from'../../redux/Board/actions';import{RIGHT,LEFT,UP,DOWN,MESSAGE_SUCCESS}from'./constants';import{canGoUp,canGoDown,canGoRight,canGoLeft,checkMove}from'./utils';import'./Board.css';function Board(){var dispatch=useDispatch();var alert=useAlert();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),start=_useState2[0],setStart=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),disableButtons=_useState4[0],setDisableButtons=_useState4[1];var _useSelector=useSelector(function(state){return state.board;}),board=_useSelector.board,position=_useSelector.position,finalized=_useSelector.finalized,indexRow=_useSelector.indexRow,indexSquare=_useSelector.indexSquare,moves=_useSelector.moves;useEffect(function(){if(start){setTimeout(handleOnClick,100);}});useEffect(function(){ArrowKeysReact.config({left:function left(){canGoLeft(board,indexRow,indexSquare)&&dispatch(actionCreators.move(LEFT));},right:function right(){if(!finalized){canGoRight(board,indexRow,indexSquare)&&dispatch(actionCreators.move(RIGHT));}else{alert.success(\"\".concat(MESSAGE_SUCCESS,\" \").concat(moves,\" movimientos\"));dispatch({type:actions.RESET});}},up:function up(){indexRow>0&&canGoUp(board,indexRow,indexSquare)&&dispatch(actionCreators.move(UP));},down:function down(){canGoDown(board,indexRow,indexSquare)&&dispatch(actionCreators.move(DOWN));}});});var handleOnClick=function handleOnClick(){if(!finalized){!start&&setStart(true);setDisableButtons(true);checkMove(board,indexRow,indexSquare,position,dispatch);}else{setStart(false);dispatch(actionCreators.notifyMoves(moves));dispatch({type:actions.RESET});setDisableButtons(false);alert.success(\"\".concat(MESSAGE_SUCCESS,\" \").concat(moves,\" movimientos\"));}};var handleOnReset=function handleOnReset(){dispatch({type:actions.RESET});setStart(false);};return React.createElement(\"div\",Object.assign({className:\"board\"},ArrowKeysReact.events,{tabIndex:\"1\"}),React.createElement(\"div\",{className:\"container-button\"},React.createElement(\"button\",{className:\"help\",onClick:handleOnClick,disabled:disableButtons},\"P\\xEDdele ayuda a la aguilas\"),React.createElement(\"button\",{className:\"reset\",onClick:handleOnReset,disabled:disableButtons},\"Resetear\")),board&&board.map(function(row,i){return React.createElement(\"div\",{key:i,className:\"row\"},row&&row.map(function(square,i){return React.createElement(Square,{key:i,enabled:square.enabled,active:square.active});}));}));}export default Board;","map":{"version":3,"sources":["/Users/a/Documents/Proyects/maze-react/src/components/Board/index.js"],"names":["React","useEffect","useState","ArrowKeysReact","useDispatch","useSelector","useAlert","actions","Square","actionCreators","RIGHT","LEFT","UP","DOWN","MESSAGE_SUCCESS","canGoUp","canGoDown","canGoRight","canGoLeft","checkMove","Board","dispatch","alert","start","setStart","disableButtons","setDisableButtons","state","board","position","finalized","indexRow","indexSquare","moves","setTimeout","handleOnClick","config","left","move","right","success","type","RESET","up","down","notifyMoves","handleOnReset","events","map","row","i","square","enabled","active"],"mappings":"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","sourcesContent":["  import React from 'react';\n  import { useEffect, useState } from 'react';\n  import ArrowKeysReact from 'arrow-keys-react';\n  import { useDispatch, useSelector } from 'react-redux'\n  import { useAlert } from \"react-alert\";\n\n  import { actions } from '../../redux/Board/actions';\n  import Square from './components/Square';\n  import { actionCreators } from '../../redux/Board/actions';\n  import { RIGHT, LEFT, UP, DOWN, MESSAGE_SUCCESS } from './constants';\n  import { canGoUp, canGoDown, canGoRight, canGoLeft, checkMove } from './utils';\n  import './Board.css';\n\n  function Board() {\n    const dispatch = useDispatch();\n    const alert = useAlert();\n\n    const [ start, setStart ] = useState(false);\n    const [ disableButtons, setDisableButtons ] = useState(false);\n\n    const { board, position, finalized, indexRow, indexSquare, moves } = useSelector(state => state.board);\n\n    useEffect(() => {\n      if (start) {\n        setTimeout(handleOnClick, 100);\n      }\n    });\n\n    useEffect(() => {\n      ArrowKeysReact.config({\n        left: () => {\n          canGoLeft(board, indexRow, indexSquare) && dispatch(actionCreators.move(LEFT));\n        },\n        right: () => {\n          if(!finalized) {\n            canGoRight(board, indexRow, indexSquare) && dispatch(actionCreators.move(RIGHT))\n          } else {\n            alert.success(`${MESSAGE_SUCCESS} ${moves} movimientos`);\n            dispatch({ type: actions.RESET });\n          }\n        },\n        up: () => {\n          indexRow > 0 && canGoUp(board, indexRow, indexSquare) && dispatch(actionCreators.move(UP));\n        },\n        down: () => {\n          canGoDown(board, indexRow, indexSquare) && dispatch(actionCreators.move(DOWN));\n        }\n      });\n    });\n\n    const handleOnClick = () => {\n      if(!finalized) {\n        !start && setStart(true);\n        setDisableButtons(true);\n        checkMove(board, indexRow, indexSquare, position, dispatch);\n      } else {\n        setStart(false);\n        dispatch(actionCreators.notifyMoves(moves))\n        dispatch({ type: actions.RESET });\n        setDisableButtons(false);\n        alert.success(`${MESSAGE_SUCCESS} ${moves} movimientos`);\n      }\n    };\n\n    const handleOnReset = () => {\n      dispatch({ type: actions.RESET });\n      setStart(false);\n    }\n\n    return (\n      <div className=\"board\" {...ArrowKeysReact.events} tabIndex=\"1\">\n        <div className=\"container-button\">\n          <button className=\"help\" onClick={handleOnClick} disabled={disableButtons}>PÃ­dele ayuda a la aguilas</button>\n          <button className=\"reset\" onClick={handleOnReset} disabled={disableButtons}>Resetear</button>\n        </div>\n        {board && board.map((row, i) => (\n          <div key={i} className=\"row\">\n            {row && row.map((square, i) =>\n              <Square key={i} enabled={square.enabled} active={square.active} />\n            )}\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  export default Board;\n"]},"metadata":{},"sourceType":"module"}