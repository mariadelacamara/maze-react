{"ast":null,"code":"import Immutable from 'seamless-immutable';\nimport { matrix } from '../../constants';\nconst defaultState = {\n  moves: 0,\n  board: matrix,\n  indexSquare: matrix[0].findIndex(elem => elem.active),\n  indexRow: 0,\n  finalized: false\n};\n\nconst resetPosition = (board, indexSquare, indexRow) => {\n  const boardUpdated = [...board.slice(0, indexRow), [...board[indexRow].slice(0, indexSquare), {\n    active: false,\n    enabled: true\n  }, ...board[indexRow].slice(indexSquare + 1)], ...board.slice(indexRow + 1)];\n  return boardUpdated;\n};\n\nexport function reducer(state = Immutable(defaultState), action) {\n  switch (action.type) {\n    case 'MOVE_DOWN':\n      {\n        const indexSquare = state.indexSquare,\n              indexRow = state.indexRow,\n              board = state.board;\n        const resetBoard = resetPosition(board, indexSquare, indexRow);\n        const boardUpdated = [...resetBoard.slice(0, indexRow + 1), [...resetBoard[indexRow + 1].slice(0, indexSquare), resetBoard[indexRow + 1][indexSquare].merge({\n          active: true\n        }), ...resetBoard[indexRow + 1].slice(indexSquare + 1)], ...resetBoard.slice(indexRow + 2)];\n        return state.merge({\n          moves: state.moves + 1,\n          board: boardUpdated,\n          indexRow: indexRow + 1,\n          indexSquare: indexSquare,\n          position: 'DOWN',\n          finalized: board[indexRow][indexSquare + 2] === undefined\n        });\n      }\n\n    case 'MOVE_RIGHT':\n      {\n        const indexSquare = state.indexSquare,\n              indexRow = state.indexRow,\n              board = state.board;\n        const resetBoard = resetPosition(board, indexSquare, indexRow);\n        const boardUpdated = [...resetBoard.slice(0, indexRow), [...resetBoard[indexRow].slice(0, indexSquare + 1), resetBoard[indexRow][indexSquare + 1].merge({\n          active: true\n        }), ...resetBoard[indexRow].slice(indexSquare + 2)], ...resetBoard.slice(indexRow + 1)];\n        return state.merge({\n          moves: state.moves + 1,\n          board: boardUpdated,\n          indexSquare: indexSquare + 1,\n          indexRow: indexRow,\n          position: 'RIGHT',\n          finalized: board[indexRow][indexSquare + 2] === undefined\n        });\n      }\n\n    case 'MOVE_UP':\n      {\n        const indexSquare = state.indexSquare,\n              indexRow = state.indexRow,\n              board = state.board;\n        const resetBoard = resetPosition(board, indexSquare, indexRow);\n        const boardUpdated = [...resetBoard.slice(0, indexRow - 1), [...resetBoard[indexRow - 1].slice(0, indexSquare), resetBoard[indexRow - 1][indexSquare].merge({\n          active: true\n        }), ...resetBoard[indexRow - 1].slice(indexSquare + 1)], ...resetBoard.slice(indexRow)];\n        return state.merge({\n          moves: state.moves + 1,\n          board: boardUpdated,\n          indexRow: state.indexRow - 1,\n          indexSquare: indexSquare,\n          position: 'UP',\n          finalized: board[indexRow][indexSquare + 1] === undefined\n        });\n      }\n\n    case 'MOVE_LEFT':\n      {\n        const indexSquare = state.indexSquare,\n              indexRow = state.indexRow,\n              board = state.board;\n        const resetBoard = resetPosition(board, indexSquare, indexRow);\n        const boardUpdated = [...resetBoard.slice(0, indexRow), [...resetBoard[indexRow].slice(0, indexSquare - 1), resetBoard[indexRow][indexSquare - 1].merge({\n          active: true\n        }), ...resetBoard[indexRow].slice(indexSquare)], ...resetBoard.slice(indexRow + 1)];\n        return state.merge({\n          moves: state.moves + 1,\n          board: boardUpdated,\n          indexRow: indexRow,\n          indexSquare: indexSquare - 1,\n          position: 'LEFT',\n          finalized: board[indexRow][indexSquare + 2] === undefined\n        });\n      }\n\n    case 'RESET':\n      {\n        return state.merge({\n          moves: 0,\n          indexSquare: matrix[0].findIndex(elem => elem.active),\n          indexRow: 0,\n          board: matrix,\n          finalized: false\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}","map":{"version":3,"sources":["/home/nicolas/Documents/Proyects/maze-react/src/redux/Board/reducer.js"],"names":["Immutable","matrix","defaultState","moves","board","indexSquare","findIndex","elem","active","indexRow","finalized","resetPosition","boardUpdated","slice","enabled","reducer","state","action","type","resetBoard","merge","position","undefined"],"mappings":"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","sourcesContent":["import Immutable from 'seamless-immutable';\n\nimport { matrix } from '../../constants';\n\nconst defaultState = {\n  moves: 0,\n  board: matrix,\n  indexSquare: matrix[0].findIndex(elem => elem.active),\n  indexRow: 0,\n  finalized: false\n};\n\nconst resetPosition = ( board, indexSquare, indexRow ) => {\n  const boardUpdated = [\n    ...board.slice(0, indexRow),\n    [\n      ...board[indexRow].slice(0, indexSquare),\n      {\n        active: false,\n        enabled: true\n      },\n      ...board[indexRow].slice(indexSquare + 1 ),\n    ],\n    ...board.slice(indexRow + 1)\n  ];\n  return boardUpdated;\n}\n\nexport function reducer(state = Immutable(defaultState), action) {\n  switch (action.type) {\n    case 'MOVE_DOWN': {\n      const { indexSquare, indexRow, board } = state;\n      const resetBoard = resetPosition(board, indexSquare, indexRow);\n      const boardUpdated = [\n        ...resetBoard.slice(0, indexRow + 1),\n        [\n          ...resetBoard[indexRow + 1].slice(0, indexSquare),\n          resetBoard[indexRow + 1][indexSquare].merge({active: true}),\n          ...resetBoard[indexRow + 1].slice(indexSquare + 1 ),\n        ],\n        ...resetBoard.slice(indexRow + 2)\n      ];\n      return state.merge({\n        moves: state.moves + 1,\n        board: boardUpdated,\n        indexRow: indexRow + 1,\n        indexSquare: indexSquare,\n        position: 'DOWN',\n        finalized: board[indexRow][indexSquare + 2] === undefined\n      });\n    }\n    case 'MOVE_RIGHT': {\n      const { indexSquare, indexRow, board } = state;\n      const resetBoard = resetPosition(board, indexSquare, indexRow);\n      const boardUpdated = [\n        ...resetBoard.slice(0, indexRow),\n        [\n          ...resetBoard[indexRow].slice(0, indexSquare + 1),\n          resetBoard[indexRow][indexSquare + 1].merge({active: true}),\n          ...resetBoard[indexRow].slice(indexSquare + 2),\n        ],\n        ...resetBoard.slice(indexRow + 1)\n      ];\n      return state.merge({\n        moves: state.moves + 1,\n        board: boardUpdated,\n        indexSquare: indexSquare + 1,\n        indexRow: indexRow,\n        position: 'RIGHT',\n        finalized: board[indexRow][indexSquare + 2] === undefined\n      });\n    }\n    case 'MOVE_UP': {\n      const { indexSquare, indexRow, board } = state;\n      const resetBoard = resetPosition(board, indexSquare, indexRow);\n      const boardUpdated = [\n        ...resetBoard.slice(0, indexRow - 1),\n        [\n          ...resetBoard[indexRow - 1].slice(0, indexSquare),\n          resetBoard[indexRow - 1][indexSquare].merge({active: true}),\n\n          ...resetBoard[indexRow - 1].slice(indexSquare + 1),\n        ],\n        ...resetBoard.slice(indexRow)\n      ];\n      return state.merge({\n        moves: state.moves + 1,\n        board: boardUpdated,\n        indexRow: state.indexRow - 1,\n        indexSquare: indexSquare,\n        position: 'UP',\n        finalized: board[indexRow][indexSquare + 1] === undefined\n      });\n    }\n    case 'MOVE_LEFT': {\n      const { indexSquare, indexRow, board } = state;\n      const resetBoard = resetPosition(board, indexSquare, indexRow);\n      const boardUpdated = [\n        ...resetBoard.slice(0, indexRow),\n        [\n          ...resetBoard[indexRow].slice(0, indexSquare - 1),\n          resetBoard[indexRow][indexSquare - 1].merge({active: true}),\n\n          ...resetBoard[indexRow].slice(indexSquare),\n        ],\n        ...resetBoard.slice(indexRow + 1)\n      ];\n      return state.merge({\n        moves: state.moves + 1,\n        board: boardUpdated,\n        indexRow: indexRow,\n        indexSquare: indexSquare - 1,\n        position: 'LEFT',\n        finalized: board[indexRow][indexSquare + 2] === undefined\n      });\n    }\n    case 'RESET': {\n      return state.merge({\n        moves: 0,\n        indexSquare: matrix[0].findIndex(elem => elem.active),\n        indexRow: 0,\n        board: matrix,\n        finalized: false\n      })\n    }\n    default: {\n      return state; \n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}