{"ast":null,"code":"import _slicedToArray from \"/home/nicolas/Documents/Proyects/maze-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/nicolas/Documents/Proyects/maze-react/src/components/Board/index.js\";\nimport React from 'react';\nimport { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport ArrowKeysReact from 'arrow-keys-react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Grid from './components/Grid';\nimport { actionCreators } from '../../redux/Board/actions';\nimport './Board.css';\n\nfunction Board({\n  matrix\n}) {\n  const _useState = useState(matrix),\n        _useState2 = _slicedToArray(_useState, 2),\n        boardd = _useState2[0],\n        setBoard = _useState2[1]; // const [ gandalfIndexGrid, setGandalfIndexGrid ] = useState(board[0].findIndex(elem => elem.active));\n  // const [ gandalfIndexRow, setGandalfIndexRow ] = useState(0);\n\n\n  const dispatch = useDispatch();\n  const board = useSelector(state => state.board.board);\n  useEffect(() => {\n    ArrowKeysReact.config({\n      left: () => {\n        handleLeft();\n      },\n      right: () => {\n        handleRight();\n      },\n      up: () => {\n        handleUp();\n      },\n      down: () => {\n        handleDown();\n      }\n    });\n  });\n  const resetPositionActive = useCallback(() => {\n    let action = actionCreators.move();\n    dispatch(action);\n    const boardUpdated = [...board.slice(0, gandalfIndexRow), [...board[gandalfIndexRow].slice(0, gandalfIndexGrid), {\n      active: false,\n      enabled: true\n    }, ...board[gandalfIndexRow].slice(gandalfIndexGrid + 1)], ...board.slice(gandalfIndexRow + 1)];\n    return boardUpdated;\n  }, [board, gandalfIndexRow, gandalfIndexGrid]);\n  const handleDown = useCallback(() => {\n    if (board[gandalfIndexRow + 1][gandalfIndexGrid].enabled) {\n      const resetBoard = resetPositionActive();\n      const boardUpdated = [...resetBoard.slice(0, gandalfIndexRow + 1), [...resetBoard[gandalfIndexRow + 1].slice(0, gandalfIndexGrid), {\n        active: true,\n        enabled: true\n      }, ...resetBoard[gandalfIndexRow + 1].slice(gandalfIndexGrid + 1)], ...resetBoard.slice(gandalfIndexRow + 2)];\n      setGandalfIndexRow(gandalfIndexRow + 1);\n      setBoard(boardUpdated);\n    }\n  }, [resetPositionActive, board, gandalfIndexRow, gandalfIndexGrid]);\n  const handleRight = useCallback(() => {\n    if (board[gandalfIndexRow][gandalfIndexGrid + 1].enabled) {\n      const resetBoard = resetPositionActive();\n      const boardUpdated = [...resetBoard.slice(0, gandalfIndexRow), [...resetBoard[gandalfIndexRow].slice(0, gandalfIndexGrid + 1), {\n        active: true,\n        enabled: true\n      }, ...resetBoard[gandalfIndexRow].slice(gandalfIndexGrid + 2)], ...resetBoard.slice(gandalfIndexRow + 1)];\n      setGandalfIndexGrid(gandalfIndexGrid + 1);\n      setGandalfIndexRow(gandalfIndexRow);\n      setBoard(boardUpdated);\n    }\n  }, [resetPositionActive, board, gandalfIndexRow, gandalfIndexGrid]);\n  const handleUp = useCallback(() => {\n    if (board[gandalfIndexRow - 1][gandalfIndexGrid].enabled) {\n      const resetBoard = resetPositionActive();\n      const boardUpdated = [...resetBoard.slice(0, gandalfIndexRow - 1), [...resetBoard[gandalfIndexRow - 1].slice(0, gandalfIndexGrid), {\n        active: true,\n        enabled: true\n      }, ...resetBoard[gandalfIndexRow - 1].slice(gandalfIndexGrid + 1)], ...resetBoard.slice(gandalfIndexRow)];\n      setGandalfIndexRow(gandalfIndexRow - 1);\n      setBoard(boardUpdated);\n    }\n  }, [resetPositionActive, board, gandalfIndexRow, gandalfIndexGrid]);\n  const handleLeft = useCallback(() => {\n    if (gandalfIndexGrid !== 0 && board[gandalfIndexRow][gandalfIndexGrid - 1].enabled) {\n      const resetBoard = resetPositionActive();\n      const boardUpdated = [...resetBoard.slice(0, gandalfIndexRow), [...resetBoard[gandalfIndexRow].slice(0, gandalfIndexGrid - 1), {\n        active: true,\n        enabled: true\n      }, ...resetBoard[gandalfIndexRow].slice(gandalfIndexGrid)], ...resetBoard.slice(gandalfIndexRow + 1)];\n      setGandalfIndexGrid(gandalfIndexGrid - 1);\n      setGandalfIndexRow(gandalfIndexRow);\n      setBoard(boardUpdated);\n    }\n  }, [resetPositionActive, board, gandalfIndexRow, gandalfIndexGrid]);\n  return React.createElement(\"div\", Object.assign({\n    className: \"board\"\n  }, ArrowKeysReact.events, {\n    tabIndex: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }), board && board.map((row, i) => React.createElement(\"div\", {\n    key: i,\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, row && row.map((grid, i) => React.createElement(Grid, {\n    key: i,\n    enabled: grid.enabled,\n    active: grid.active,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  })))));\n}\n\nBoard.propTypes = {\n  matrix: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.shape({\n    enabled: PropTypes.bool,\n    active: PropTypes.bool\n  })))\n};\nexport default Board;","map":{"version":3,"sources":["/home/nicolas/Documents/Proyects/maze-react/src/components/Board/index.js"],"names":["React","useState","useEffect","useCallback","PropTypes","ArrowKeysReact","useDispatch","useSelector","Grid","actionCreators","Board","matrix","boardd","setBoard","dispatch","board","state","config","left","handleLeft","right","handleRight","up","handleUp","down","handleDown","resetPositionActive","action","move","boardUpdated","slice","gandalfIndexRow","gandalfIndexGrid","active","enabled","resetBoard","setGandalfIndexRow","setGandalfIndexGrid","events","map","row","i","grid","propTypes","arrayOf","shape","bool"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport ArrowKeysReact from 'arrow-keys-react';\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport Grid from './components/Grid';\nimport { actionCreators } from '../../redux/Board/actions';\nimport './Board.css';\n\nfunction Board({ matrix }) {\n  const [ boardd, setBoard ] = useState(matrix);\n  // const [ gandalfIndexGrid, setGandalfIndexGrid ] = useState(board[0].findIndex(elem => elem.active));\n  // const [ gandalfIndexRow, setGandalfIndexRow ] = useState(0);\n  const dispatch = useDispatch()\n  const board = useSelector(state => state.board.board)\n\n  useEffect(() => {\n    ArrowKeysReact.config({\n      left: () => {\n        handleLeft();\n      },\n      right: () => {\n        handleRight();\n      },\n      up: () => {\n        handleUp();\n      },\n      down: () => {\n        handleDown();\n      }\n    });\n  });\n\n  const resetPositionActive = useCallback(\n    () => {\n      let action = actionCreators.move()\n      dispatch(action);\n      const boardUpdated = [\n        ...board.slice(0, gandalfIndexRow),\n        [\n          ...board[gandalfIndexRow].slice(0, gandalfIndexGrid),\n          {\n            active: false,\n            enabled: true\n          },\n          ...board[gandalfIndexRow].slice(gandalfIndexGrid + 1 ),\n        ],\n        ...board.slice(gandalfIndexRow + 1)\n      ];\n      return boardUpdated;\n    }\n  ,[board, gandalfIndexRow, gandalfIndexGrid]);\n\n  const handleDown = useCallback(\n    () => {\n      if (board[gandalfIndexRow + 1][gandalfIndexGrid].enabled) {\n        const resetBoard = resetPositionActive();\n        const boardUpdated = [\n          ...resetBoard.slice(0, gandalfIndexRow + 1),\n          [\n            ...resetBoard[gandalfIndexRow + 1].slice(0, gandalfIndexGrid),\n            {\n              active: true,\n              enabled: true\n            },\n            ...resetBoard[gandalfIndexRow + 1].slice(gandalfIndexGrid + 1 ),\n          ],\n          ...resetBoard.slice(gandalfIndexRow + 2)\n        ];\n        setGandalfIndexRow(gandalfIndexRow + 1);\n        setBoard(boardUpdated);\n      }\n    }, [resetPositionActive, board, gandalfIndexRow, gandalfIndexGrid]\n  );\n\n  const handleRight = useCallback(\n    () => {\n      if (board[gandalfIndexRow][gandalfIndexGrid + 1].enabled) {\n        const resetBoard = resetPositionActive();\n        const boardUpdated = [\n          ...resetBoard.slice(0, gandalfIndexRow),\n          [\n            ...resetBoard[gandalfIndexRow].slice(0, gandalfIndexGrid + 1),\n            {\n              active: true,\n              enabled: true\n            },\n            ...resetBoard[gandalfIndexRow].slice(gandalfIndexGrid + 2),\n          ],\n          ...resetBoard.slice(gandalfIndexRow + 1)\n        ];\n        setGandalfIndexGrid(gandalfIndexGrid + 1);\n        setGandalfIndexRow(gandalfIndexRow);\n        setBoard(boardUpdated);\n      }\n    }, [resetPositionActive, board, gandalfIndexRow, gandalfIndexGrid]\n  );\n\n  const handleUp = useCallback(\n    () => {\n      if (board[gandalfIndexRow - 1][gandalfIndexGrid].enabled) {\n        const resetBoard = resetPositionActive();\n        const boardUpdated = [\n          ...resetBoard.slice(0, gandalfIndexRow - 1),\n          [\n            ...resetBoard[gandalfIndexRow - 1].slice(0, gandalfIndexGrid),\n            {\n              active: true,\n              enabled: true\n            },\n            ...resetBoard[gandalfIndexRow - 1].slice(gandalfIndexGrid + 1),\n          ],\n          ...resetBoard.slice(gandalfIndexRow)\n        ];\n        setGandalfIndexRow(gandalfIndexRow - 1);\n        setBoard(boardUpdated);\n      }\n    }, [resetPositionActive, board, gandalfIndexRow, gandalfIndexGrid]\n  );\n\n  const handleLeft = useCallback(\n    () => {\n      if (gandalfIndexGrid !== 0 && board[gandalfIndexRow][gandalfIndexGrid - 1].enabled) {\n        const resetBoard = resetPositionActive();\n        const boardUpdated = [\n          ...resetBoard.slice(0, gandalfIndexRow),\n          [\n            ...resetBoard[gandalfIndexRow].slice(0, gandalfIndexGrid - 1),\n            {\n              active: true,\n              enabled: true\n            },\n            ...resetBoard[gandalfIndexRow].slice(gandalfIndexGrid),\n          ],\n          ...resetBoard.slice(gandalfIndexRow + 1)\n        ];\n        setGandalfIndexGrid(gandalfIndexGrid - 1);\n        setGandalfIndexRow(gandalfIndexRow);\n        setBoard(boardUpdated);\n      }\n    }, [resetPositionActive, board, gandalfIndexRow, gandalfIndexGrid]\n  );\n\n\n  return (\n    <div className=\"board\" {...ArrowKeysReact.events} tabIndex=\"1\">\n      {/* <button className=\"help\" onClick={handleDown}>Pidele ayuda a la aguilas</button> */}\n      {board && board.map((row, i) => (\n        <div key={i} className=\"row\">\n          {row && row.map((grid, i) =>\n            <Grid key={i} enabled={grid.enabled} active={grid.active} />\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nBoard.propTypes = {\n  matrix: PropTypes.arrayOf(\n    PropTypes.arrayOf(PropTypes.shape({ enabled: PropTypes.bool, active: PropTypes.bool }))\n  )\n};\n\nexport default Board;\n"]},"metadata":{},"sourceType":"module"}