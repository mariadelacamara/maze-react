{"ast":null,"code":"import _slicedToArray from \"/home/nicolas/Documents/Proyects/maze-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/nicolas/Documents/Proyects/maze-react/src/components/Board/index.js\";\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport ArrowKeysReact from 'arrow-keys-react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useAlert } from \"react-alert\";\nimport Square from './components/Square';\nimport { actionCreators } from '../../redux/Board/actions';\nimport './Board.css';\n\nfunction Board() {\n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        start = _useState2[0],\n        setStart = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        resetDisabled = _useState4[0],\n        setResetDisabled = _useState4[1];\n\n  const board = useSelector(state => state.board.board);\n  const finalized = useSelector(state => state.board.finalized);\n  const indexRow = useSelector(state => state.board.indexRow);\n  const indexSquare = useSelector(state => state.board.indexSquare);\n  const position = useSelector(state => state.board.position);\n  useEffect(() => {\n    if (start) {\n      setTimeout(handleOnClick, 200);\n    }\n  });\n  useEffect(() => {\n    ArrowKeysReact.config({\n      left: () => {\n        board[indexRow][indexSquare - 1].enabled && dispatch(actionCreators.move('LEFT'));\n      },\n      right: () => {\n        if (!finalized) {\n          board[indexRow][indexSquare + 1].enabled && dispatch(actionCreators.move('RIGHT'));\n        } else {\n          alert.success(\"Muy bien gracias a la ayuda de las agilas Gandalf El Blanco puedo escapar !\");\n          dispatch({\n            type: 'RESET'\n          });\n        }\n      },\n      up: () => {\n        board[indexRow - 1][indexSquare].enabled && dispatch(actionCreators.move('UP'));\n      },\n      down: () => {\n        board[indexRow + 1][indexSquare].enabled && dispatch(actionCreators.move('DOWN'));\n      }\n    });\n  });\n\n  const handleOnClick = () => {\n    if (!finalized) {\n      if (!start) {\n        setStart(true);\n      }\n\n      setResetDisabled(true);\n\n      if (position === \"RIGHT\" && board[indexRow][indexSquare + 1].enabled) {\n        dispatch(actionCreators.move('RIGHT'));\n        return;\n      }\n\n      if (board[indexRow + 1][indexSquare].enabled && position !== \"UP\") {\n        dispatch(actionCreators.move('DOWN'));\n        return;\n      } else if (board[indexRow][indexSquare - 1].enabled && (position !== \"RIGHT\" || position === \"LEFT\")) {\n        dispatch(actionCreators.move('LEFT'));\n        return;\n      } else if (board[indexRow][indexSquare + 1].enabled) {\n        dispatch(actionCreators.move('RIGHT'));\n        return;\n      }\n\n      if (board[indexRow - 1] && board[indexRow - 1][indexSquare].enabled) {\n        dispatch(actionCreators.move('UP'));\n        return;\n      }\n    } else {\n      setStart(false);\n      dispatch({\n        type: 'RESET'\n      });\n      setResetDisabled(false);\n      alert.success(\"Muy bien gracias a la ayuda de las agilas Gandalf El Blanco puedo escapar !\");\n    }\n  };\n\n  const handleOnReset = () => {\n    dispatch({\n      type: 'RESET'\n    });\n    setStart(false);\n  };\n\n  return React.createElement(\"div\", Object.assign({\n    className: \"board\"\n  }, ArrowKeysReact.events, {\n    tabIndex: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"help\",\n    onClick: handleOnClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Pidele ayuda a la aguilas\"), React.createElement(\"button\", {\n    className: \"reset\",\n    onClick: handleOnReset,\n    disabled: resetDisabled,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Resetear\")), board && board.map((row, i) => React.createElement(\"div\", {\n    key: i,\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, row && row.map((square, i) => React.createElement(Square, {\n    key: i,\n    enabled: square.enabled,\n    active: square.active,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  })))));\n}\n\nexport default Board;","map":{"version":3,"sources":["/home/nicolas/Documents/Proyects/maze-react/src/components/Board/index.js"],"names":["React","useEffect","useState","ArrowKeysReact","useDispatch","useSelector","useAlert","Square","actionCreators","Board","dispatch","alert","start","setStart","resetDisabled","setResetDisabled","board","state","finalized","indexRow","indexSquare","position","setTimeout","handleOnClick","config","left","enabled","move","right","success","type","up","down","handleOnReset","events","map","row","i","square","active"],"mappings":"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","sourcesContent":["  import React from 'react';\n  import { useEffect, useState } from 'react';\n  import ArrowKeysReact from 'arrow-keys-react';\n  import { useDispatch, useSelector } from 'react-redux'\n  import { useAlert } from \"react-alert\";\n\n  import Square from './components/Square';\n  import { actionCreators } from '../../redux/Board/actions';\n  import './Board.css';\n\n  function Board() {\n    const dispatch = useDispatch();\n    const alert = useAlert();\n    const [ start, setStart ] = useState(false);\n    const [ resetDisabled, setResetDisabled ] = useState(false);\n    const board = useSelector(state => state.board.board);\n    const finalized = useSelector(state => state.board.finalized);\n    const indexRow = useSelector(state => state.board.indexRow);\n    const indexSquare = useSelector(state => state.board.indexSquare);\n    const position = useSelector(state => state.board.position);\n\n    useEffect(() => {\n      if (start) {\n        setTimeout(handleOnClick, 200);\n      }\n    });\n\n    useEffect(() => {\n      ArrowKeysReact.config({\n        left: () => {\n          board[indexRow][indexSquare - 1].enabled && dispatch(actionCreators.move('LEFT'));\n        },\n        right: () => {\n          if(!finalized) {\n            board[indexRow][indexSquare + 1].enabled && dispatch(actionCreators.move('RIGHT'))\n          } else {\n            alert.success(\"Muy bien gracias a la ayuda de las agilas Gandalf El Blanco puedo escapar !\");\n            dispatch({ type: 'RESET' });\n          }\n        },\n        up: () => {\n          board[indexRow - 1][indexSquare].enabled && dispatch(actionCreators.move('UP'));\n        },\n        down: () => {\n          board[indexRow + 1][indexSquare].enabled && dispatch(actionCreators.move('DOWN'));\n        }\n      });\n    });\n\n    const handleOnClick = () => {\n      if(!finalized) {\n        if(!start) { setStart(true) }\n        setResetDisabled(true);\n        if(position === \"RIGHT\" && board[indexRow][indexSquare + 1].enabled ) {\n          dispatch(actionCreators.move('RIGHT'));\n          return;\n        }\n        if((board[indexRow + 1][indexSquare].enabled) && (position !== \"UP\") ) {\n          dispatch(actionCreators.move('DOWN'));\n          return;\n        } else if (board[indexRow][indexSquare - 1].enabled && (position !== \"RIGHT\" || position === \"LEFT\")) {\n          dispatch(actionCreators.move('LEFT'));\n          return;\n        } else if(board[indexRow][indexSquare + 1].enabled ) {\n          dispatch(actionCreators.move('RIGHT'));\n          return;\n        }\n        if(board[indexRow - 1] && board[indexRow - 1][indexSquare].enabled){\n          dispatch(actionCreators.move('UP'));\n          return;\n        }\n      } else {\n        setStart(false);\n        dispatch({ type: 'RESET' });\n        setResetDisabled(false);\n        alert.success(\"Muy bien gracias a la ayuda de las agilas Gandalf El Blanco puedo escapar !\");\n      }\n    };\n\n    const handleOnReset = () => {\n      dispatch({ type: 'RESET' });\n      setStart(false);\n    }\n\n    return (\n      <div className=\"board\" {...ArrowKeysReact.events} tabIndex=\"1\">\n        <div className=\"container-button\">\n          <button className=\"help\" onClick={handleOnClick}>Pidele ayuda a la aguilas</button>\n          <button className=\"reset\" onClick={handleOnReset} disabled={resetDisabled}>Resetear</button>\n        </div>\n        {board && board.map((row, i) => (\n          <div key={i} className=\"row\">\n            {row && row.map((square, i) =>\n              <Square key={i} enabled={square.enabled} active={square.active} />\n            )}\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  export default Board;\n"]},"metadata":{},"sourceType":"module"}